{"version":3,"sources":["webpack:///./src/views/outcome/OutcomeScoring.vue?441f","webpack:///src/views/outcome/OutcomeScoring.vue","webpack:///./src/views/outcome/OutcomeScoring.vue?7c58","webpack:///./src/views/outcome/OutcomeScoring.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","experiment","exposure_id","outcome","staticClass","_v","_s","exposure_title","on","$event","preventDefault","saveExit","attrs","rules","model","value","callback","$$v","$set","expression","scopedSlots","_u","key","fn","_l","participant","participantId","user","displayName","participantScoreList","staticStyle","filter","psl","experimentId","experiment_id","_e","proxy","staticRenderFns","titleProxy","component","VCol","VRow","VSimpleTable","VTextField"],"mappings":"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","file":"js/chunk-2d225416.a7a30386.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.experiment && _vm.exposure_id && _vm.outcome)?_c('div',[_c('h1',{staticClass:\"mb-6\"},[_vm._v(_vm._s(_vm.exposure_title))]),_c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.saveExit($event)}}},[_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-text-field',{staticClass:\"pb-0 mb-0\",attrs:{\"name\":\"outcomeTitle\",\"rules\":_vm.rules,\"label\":\"Outcome name\",\"autofocus\":\"\",\"outlined\":\"\",\"required\":\"\"},model:{value:(_vm.outcome.title),callback:function ($$v) {_vm.$set(_vm.outcome, \"title\", $$v)},expression:\"outcome.title\"}})],1)],1),_c('v-row',[_c('v-col',{attrs:{\"cols\":\"4\"}},[_c('v-text-field',{attrs:{\"type\":\"number\",\"name\":\"outcomeMaxPoints\",\"label\":\"Total Points\",\"outlined\":\"\",\"required\":\"\"},model:{value:(_vm.outcome.maxPoints),callback:function ($$v) {_vm.$set(_vm.outcome, \"maxPoints\", $$v)},expression:\"outcome.maxPoints\"}})],1)],1),_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-simple-table',{staticClass:\"mb-9 v-data-table--light-header\",scopedSlots:_vm._u([{key:\"default\",fn:function(){return [_c('thead',[_c('tr',[_c('th',{staticClass:\"text-left\"},[_vm._v(\"Student Name\")]),_c('th',{staticClass:\"text-left\",attrs:{\"width\":\"250\"}},[_vm._v(\"Numeric Score\")])])]),_c('tbody',_vm._l((_vm.participants),function(participant){return _c('tr',{key:participant.participantId},[_c('td',[_vm._v(_vm._s(participant.user.displayName))]),(_vm.participantScoreList.length)?_c('td',[_c('v-text-field',{staticStyle:{\"max-width\":\"50px\"},attrs:{\"type\":\"number\",\"name\":participant.participantId,\"placeholder\":\"---\",\"required\":\"\"},model:{value:(_vm.participantScoreList.filter(function (psl){ return psl.participantId===participant.participantId && psl.experimentId===_vm.experiment_id; })[0].scoreNumeric),callback:function ($$v) {_vm.$set(_vm.participantScoreList.filter(function (psl){ return psl.participantId===participant.participantId && psl.experimentId===_vm.experiment_id; })[0], \"scoreNumeric\", $$v)},expression:\"participantScoreList.filter(psl=>psl.participantId===participant.participantId && psl.experimentId===experiment_id)[0].scoreNumeric\"}})],1):_vm._e()])}),0)]},proxy:true}],null,false,1225340872)})],1)],1)],1)]):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div v-if=\"experiment && exposure_id && outcome\">\n    <h1 class=\"mb-6\">{{ exposure_title }}</h1>\n    <form @submit.prevent=\"saveExit\">\n      <v-row>\n        <v-col cols=\"12\">\n          <v-text-field\n            v-model=\"outcome.title\"\n            name=\"outcomeTitle\"\n            class=\"pb-0 mb-0\"\n            :rules=\"rules\"\n            label=\"Outcome name\"\n            autofocus\n            outlined\n            required\n          ></v-text-field>\n        </v-col>\n      </v-row>\n      <v-row>\n        <v-col cols=\"4\">\n          <v-text-field\n            type=\"number\"\n            name=\"outcomeMaxPoints\"\n            v-model=\"outcome.maxPoints\"\n            label=\"Total Points\"\n            outlined\n            required\n          ></v-text-field>\n        </v-col>\n      </v-row>\n      <v-row>\n        <v-col cols=\"12\">\n          <v-simple-table class=\"mb-9 v-data-table--light-header\">\n            <template v-slot:default>\n              <thead>\n              <tr>\n                <th class=\"text-left\">Student Name</th>\n                <th class=\"text-left\" width=\"250\">Numeric Score</th>\n              </tr>\n              </thead>\n              <tbody>\n                <tr\n                  v-for=\"participant in participants\"\n                  :key=\"participant.participantId\"\n                >\n                  <td>{{ participant.user.displayName }}</td>\n                  <td v-if=\"participantScoreList.length\">\n                    <v-text-field\n                      type=\"number\"\n                      :name=\"participant.participantId\"\n                      v-model=\"participantScoreList.filter(psl=>psl.participantId===participant.participantId && psl.experimentId===experiment_id)[0].scoreNumeric\"\n                      placeholder=\"---\"\n                      style=\"max-width: 50px;\"\n                      required\n                    ></v-text-field>\n                  </td>\n                </tr>\n              </tbody>\n            </template>\n          </v-simple-table>\n        </v-col>\n      </v-row>\n    </form>\n  </div>\n</template>\n\n<script>\nimport {mapActions, mapGetters} from 'vuex'\n\n  export default {\n    name: 'OutcomeScoring',\n    computed: {\n      ...mapGetters({\n        experiment: 'experiment/experiment',\n        exposures: 'exposures/exposures',\n        outcome: 'outcome/outcome',\n        outcomeScores: 'outcome/outcomeScores',\n        participants: 'participants/participants'\n      }),\n      exposure_id() {\n        return parseInt(this.$route.params.exposure_id)\n      },\n      exposure_title() {\n        return this.exposures.filter(o=>o.exposureId===this.exposure_id)[0].title\n      },\n      experiment_id() {\n        return parseInt(this.$route.params.experiment_id)\n      },\n      outcome_id() {\n        return parseInt(this.$route.params.outcome_id)\n      },\n      participantScoreList() {\n        let arr = []\n        this.participants.map(p=>{\n          const score = this.outcomeScores.filter(o=>o.participantId===p.participantId)[0]\n          let item = {\n            experimentId: this.experiment_id,\n            participantId: p.participantId,\n            scoreNumeric: 0\n          }\n\n          if (typeof score !== \"undefined\") {\n            item.outcomeScoreId = score?.outcomeScoreId\n            item.outcomeId = score?.outcomeId\n            item.scoreNumeric = parseInt(score?.scoreNumeric)\n          }\n\n          arr.push(item)\n        })\n        return arr\n      }\n    },\n    data: () => ({\n      rules: [\n        v => v && !!v.trim() || 'required',\n        v => (v || '').length <= 255 || 'A maximum of 255 characters is allowed'\n      ],\n      titleProxy: ''\n    }),\n    methods: {\n      ...mapActions({\n        fetchParticipants: 'participants/fetchParticipants',\n        fetchOutcomeById: 'outcome/fetchOutcomeById',\n        fetchOutcomeScores: 'outcome/fetchOutcomeScores',\n        updateOutcome: 'outcome/updateOutcome',\n        updateOutcomeScores: 'outcome/updateOutcomeScores'\n      }),\n      async saveExit() {\n        await this.updateOutcome([this.experiment_id, this.exposure_id, this.outcome])\n        await this.updateOutcomeScores([this.experiment_id, this.exposure_id, this.outcome_id, this.participantScoreList])\n        this.$router.push({ name: this.$router.currentRoute.meta.previousStep })\n      }\n    },\n    async created() {\n\n      await this.fetchOutcomeById([this.experiment_id, this.exposure_id, this.outcome_id])\n      await this.fetchParticipants(this.experiment_id)\n      await this.fetchOutcomeScores([this.experiment_id, this.exposure_id, this.outcome_id])\n    }\n  }\n</script>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OutcomeScoring.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OutcomeScoring.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./OutcomeScoring.vue?vue&type=template&id=7eb46a08&\"\nimport script from \"./OutcomeScoring.vue?vue&type=script&lang=js&\"\nexport * from \"./OutcomeScoring.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSimpleTable } from 'vuetify/lib/components/VDataTable';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VCol,VRow,VSimpleTable,VTextField})\n"],"sourceRoot":""}