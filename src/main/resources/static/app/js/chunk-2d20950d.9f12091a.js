(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d20950d"],{a910:function(t,n,e){"use strict";e.r(n);var a=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[e("h1",{staticClass:"mb-5"},[t._v(" Select which students you would like for each condition. ")]),e("p",[t._v("Conditions")]),e("v-expansion-panels",{staticClass:"v-expansion-panels--icon",attrs:{flat:""}},t._l(this.conditions,(function(n,a){return e("v-expansion-panel",{key:n.conditionId},[e("v-expansion-panel-header",[t._v(" "+t._s(n.name)+" ("+t._s(t.arrayDataProxy[a].length)+") ")]),e("v-expansion-panel-content",[e("ListParticipants",{attrs:{listOfParticipants:t.arrayDataProxy[a],moveToOptions:t.getConditionNames,moveToHandler:t.moveToHandler,selectedOption:""+a}})],1)],1)})),1),e("ListParticipants",{attrs:{listOfParticipants:t.arrayDataProxy[this.getConditionNames.length-1],moveToOptions:t.getConditionNames,moveToHandler:t.moveToHandler,selectedOption:""+(this.getConditionNames.length-1)}}),e("v-btn",{staticClass:"mt-10",attrs:{elevation:"0",color:"primary"},on:{click:t.submitDistribution}},[t._v("Continue")])],1)},i=[],r=e("2909"),o=e("5530"),s=(e("99af"),e("d81d"),e("b0c0"),e("4de4"),e("caad"),e("2532"),e("f944")),p=e("4360"),c=e("2f62"),u=e("dde5"),d={name:"ParticipationManualDistribution",props:["experiment"],components:{ListParticipants:s["a"]},data:function(){return{arrayDataProxy:[]}},watch:{participants:{deep:!0,immediate:!0,handler:function(t){for(var n=[],e=0;e<this.conditions.length;e++)n.push([]);n.push(t),this.arrayData=n}}},computed:Object(o["a"])(Object(o["a"])({},Object(c["c"])({participants:"participants/participants",exposures:"exposures/exposures"})),{},{conditions:function(){return this.experiment.conditions},getConditionNames:function(){return[].concat(Object(r["a"])(this.experiment.conditions.map((function(t){return t.name}))),["Unassigned"])},arrayData:{get:function(){for(var t=[],n=0;n<this.conditions.length;n++)t.push([]);return t.push(this.participants),t},set:function(t){this.arrayDataProxy=t}}}),methods:Object(o["a"])(Object(o["a"])({},Object(c["b"])({fetchExposures:"exposures/fetchExposures"})),{},{getExposure:function(){this.fetchExposures(this.experiment.experimentId)},submitDistribution:function(){var t=this,n=[],e={};this.getExposure();var a=this.exposures.map((function(t){return t.exposureId})).sort((function(t,n){return t-n}))[0],i=this.exposures.filter((function(t){return t.exposureId===a}))[0];i.groupConditionList.map((function(t,n){var a=t.groupId;return e[n]=a})),this.arrayDataProxy.map((function(t,a){return t.map((function(t){if(void 0!==e[a]){var i={participantId:t.participantId,consent:t.consent,dropped:t.dropped,groupId:e[a]};n.push(i)}}))})),u["g"].updateParticipants(this.experiment.experimentId,n).then((function(n){200===(null===n||void 0===n?void 0:n.status)?t.$router.push({name:"ParticipationSummary",params:{experiment:t.experiment.experimentId}}):alert(n.error)})).catch((function(t){console.log("submitParticipants | catch",{response:t})}))},moveToHandler:function(t,n){var e=n.map((function(t){return t.participantId})),a=this.arrayDataProxy.map((function(t){return t.filter((function(t){return!e.includes(t.participantId)}))})),i=this.getConditionNames.indexOf(t);a[i]=[].concat(Object(r["a"])(a[i]),Object(r["a"])(n)),this.arrayData=a}}),beforeRouteEnter:function(t,n,e){return p["a"].dispatch("participants/fetchParticipants",t.params.experiment_id).then(e,e)},beforeRouteUpdate:function(t,n,e){return p["a"].dispatch("participants/fetchParticipants",t.params.experiment_id).then(e,e)}},h=d,l=e("2877"),m=e("6544"),f=e.n(m),x=e("8336"),v=e("cd55"),b=e("49e2"),P=e("c865"),y=e("0393"),g=Object(l["a"])(h,a,i,!1,null,null,null);n["default"]=g.exports;f()(g,{VBtn:x["a"],VExpansionPanel:v["a"],VExpansionPanelContent:b["a"],VExpansionPanelHeader:P["a"],VExpansionPanels:y["a"]})}}]);
//# sourceMappingURL=chunk-2d20950d.9f12091a.js.map