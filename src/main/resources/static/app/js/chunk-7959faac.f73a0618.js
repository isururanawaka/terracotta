(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7959faac"],{"0393":function(e,t,n){"use strict";var s=n("5530"),i=(n("0481"),n("210b"),n("604c")),a=n("d9bd");t["a"]=i["a"].extend({name:"v-expansion-panels",provide:function(){return{expansionPanels:this}},props:{accordion:Boolean,disabled:Boolean,flat:Boolean,hover:Boolean,focusable:Boolean,inset:Boolean,popout:Boolean,readonly:Boolean,tile:Boolean},computed:{classes:function(){return Object(s["a"])(Object(s["a"])({},i["a"].options.computed.classes.call(this)),{},{"v-expansion-panels":!0,"v-expansion-panels--accordion":this.accordion,"v-expansion-panels--flat":this.flat,"v-expansion-panels--hover":this.hover,"v-expansion-panels--focusable":this.focusable,"v-expansion-panels--inset":this.inset,"v-expansion-panels--popout":this.popout,"v-expansion-panels--tile":this.tile})}},created:function(){this.$attrs.hasOwnProperty("expand")&&Object(a["a"])("expand","multiple",this),Array.isArray(this.value)&&this.value.length>0&&"boolean"===typeof this.value[0]&&Object(a["a"])(':value="[true, false, true]"',':value="[0, 2]"',this)},methods:{updateItem:function(e,t){var n=this.getValue(e,t),s=this.getValue(e,t+1);e.isActive=this.toggleMethod(n),e.nextIsActive=this.toggleMethod(s)}}})},"11a3":function(e,t,n){"use strict";n.r(t);var s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.experiment&&e.condition?n("div",{staticClass:"terracotta-builder"},[n("h1",[e._v(" Add your treatment for Assignment 1â€™s condition: "),n("strong",[e._v(e._s(e.condition.name))])]),n("form",{staticClass:"my-5",on:{submit:function(t){return t.preventDefault(),e.saveAll("ExperimentDesignDescription")}}},[n("v-text-field",{attrs:{rules:e.rules,label:"Treatment name",placeholder:"e.g. Lorem ipsum",autofocus:"",outlined:"",required:""},model:{value:e.assessment.title,callback:function(t){e.$set(e.assessment,"title",t)},expression:"assessment.title"}}),n("v-text-field",{attrs:{label:"Instructions or description (optional)",placeholder:"e.g. Lorem ipsum",outlined:""},model:{value:e.assessment.html,callback:function(t){e.$set(e.assessment,"html",t)},expression:"assessment.html"}}),e._m(0),n("v-expansion-panels",{staticClass:"v-expansion-panels--outlined mb-6",attrs:{flat:"",accordion:""}},e._l(e.questions,(function(t,s){return n("v-expansion-panel",{key:s,staticClass:"text-left"},[n("v-expansion-panel-header",{staticClass:"text-left"},[n("h2",{staticClass:"pa-0"},[e._v(e._s(s+1))])]),n("v-expansion-panel-content",[n("tiptap-vuetify",{staticClass:"mb-6 outlined",attrs:{placeholder:"Question",extensions:e.extensions,"card-props":{flat:!0},rules:e.rules,required:""},model:{value:t.body,callback:function(n){e.$set(t,"body",n)},expression:"question.body"}}),n("v-text-field",{attrs:{label:"Points",type:"number",outlined:"",required:""},model:{value:t.points,callback:function(n){e.$set(t,"points",n)},expression:"question.points"}}),n("h4",[n("strong",[e._v("Options")])]),n("p",{staticClass:"ma-0 mb-3"},[e._v("Select correct option(s) below")]),n("ul",{staticClass:"options-list pa-0 mb-6"},e._l(t.options,(function(t,i){return n("li",{key:i,staticClass:"mb-3"},[n("v-row",{attrs:{align:"center"}},[n("v-col",{staticClass:"py-0",attrs:{cols:"1"}},[n("v-btn",{staticClass:"correct",class:{"green--text":t.correct},attrs:{icon:"",tile:""},on:{click:function(t){return e.handleToggleCorrect(s,i)}}},[t.correct?[n("v-icon",[e._v("mdi-checkbox-marked-circle")])]:[n("v-icon",[e._v("mdi-checkbox-marked-circle-outline")])]],2)],1),n("v-col",{attrs:{cols:"9"}},[n("v-text-field",{attrs:{label:"Option "+(i+1),rules:e.rules,"hide-details":"",outlined:"",required:""},model:{value:t.option,callback:function(n){e.$set(t,"option",n)},expression:"option.option"}})],1),n("v-col",{staticClass:"py-0",attrs:{cols:"2"}},[n("v-btn",{staticClass:"delete_option",attrs:{icon:"",tile:""},on:{click:function(t){return e.handleDeleteOption(s,i)}}},[n("v-icon",[e._v("mdi-delete")])],1)],1)],1)],1)})),0),n("v-btn",{staticClass:"mr-4 mb-3 px-0",attrs:{elevation:"0",color:"primary",plain:""},on:{click:function(n){return e.handleAddOption(t)}}},[e._v(" Add another Option ")])],1)],1)})),1),n("v-btn",{staticClass:"mr-4 mb-3 px-0",attrs:{elevation:"0",color:"primary",plain:""},on:{click:e.handleAddMCQuestion}},[e._v(" Add another Question ")]),n("br"),n("v-btn",{staticClass:"mr-4",attrs:{disabled:!e.experiment.title||!e.experiment.title.trim(),elevation:"0",color:"primary",type:"submit"}},[e._v(" Save Treatment ")])],1)]):e._e()},i=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("h4",{staticClass:"mb-3"},[n("strong",[e._v("Multiple Choice Questions")])])}],a=n("1da1"),r=n("5530"),o=(n("96cf"),n("7db0"),n("498a"),n("a434"),n("d3b7"),n("3ca3"),n("ddb0"),n("d81d"),n("2f62")),c=n("3f38"),l={name:"TerracottaBuilder",props:["experiment"],computed:Object(r["a"])({condition:function(){var e=this;return this.experiment.conditions.find((function(t){return parseInt(t.conditionId)===parseInt(e.$route.params.condition_id)}))},assignment_id:function(){return this.$route.params.assignment_id},treatment_id:function(){return this.$route.params.treatment_id},assessment_id:function(){return this.$route.params.assessment_id},questions:{get:function(){return this.$store.state.assessment.assessment.questions},set:function(e){this.$store.commit("assessment/updateQuestions",e)}}},Object(o["c"])({assessment:"assessment/assessment"})),data:function(){return{rules:[function(e){return e&&!!e.trim()||"required"},function(e){return(e||"").length<=255||"A maximum of 255 characters is allowed"}],extensions:[c["g"],c["a"],c["j"],c["q"],c["n"],c["i"],c["k"],c["c"],c["l"],[c["f"],{options:{levels:[1,2,3]}}],c["b"],c["d"],c["h"],c["m"],c["e"]]}},methods:Object(r["a"])(Object(r["a"])({},Object(o["b"])({fetchAssessment:"assessment/fetchAssessment",updateAssessment:"assessment/updateAssessment",createQuestion:"assessment/createQuestion",createAnswer:"assessment/createAnswer"})),{},{handleAddMCQuestion:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.createQuestion([e.experiment.experimentId,e.condition.conditionId,e.treatment_id,e.assessment_id,0,"MC",0,""]);case 3:t.next=8;break;case 5:t.prev=5,t.t0=t["catch"](0),console.error(t.t0);case 8:case"end":return t.stop()}}),t,null,[[0,5]])})))()},handleAddOption:function(e){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return console.log(e),n.prev=1,n.next=4,t.createAnswer([t.experiment.experimentId,t.condition.conditionId,t.treatment_id,t.assessment_id,e.questionId,"",!1,0]);case 4:n.next=9;break;case 6:n.prev=6,n.t0=n["catch"](1),console.error(n.t0);case 9:case"end":return n.stop()}}),n,null,[[1,6]])})))()},handleToggleCorrect:function(e,t){this.questions[e].options[t].correct=!this.questions[e].options[t].correct},handleDeleteOption:function(e,t){this.questions[e].options.splice(t,1)},handleSaveAssessment:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.updateAssessment([e.experiment.experimentId,e.condition.conditionId,e.treatment_id,e.assessment_id,e.assessment.title,e.assessment.html]);case 3:return t.abrupt("return",t.sent);case 6:t.prev=6,t.t0=t["catch"](0),console.error("handleCreateAssessment | catch",{error:t.t0});case 9:case"end":return t.stop()}}),t,null,[[0,6]])})))()},handleSaveQuestions:function(e){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(e){n.next=2;break}return n.abrupt("return",!1);case 2:return n.abrupt("return",Promise.all(t.assessment.questions.map(function(){var n=Object(a["a"])(regeneratorRuntime.mark((function n(s,i){var a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,t.createQuestion([t.experiment.experimentId,t.condition.conditionId,t.treatment_id,e.assessmentId,i,"MC",s.points,s.body]);case 3:return a=n.sent,n.abrupt("return",Promise.resolve(a));case 7:return n.prev=7,n.t0=n["catch"](0),n.abrupt("return",Promise.reject(n.t0));case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(e,t){return n.apply(this,arguments)}}())));case 3:case"end":return n.stop()}}),n)})))()},handleSaveAnswers:function(e,t,n){var s=this;return Object(a["a"])(regeneratorRuntime.mark((function i(){return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(console.log({questions:n}),e&&t&&n){i.next=3;break}return i.abrupt("return",!1);case 3:return i.abrupt("return",Promise.all(s.assessment.questions.map((function(e){var n;null===e||void 0===e||null===(n=e.options)||void 0===n||n.map(function(){var n=Object(a["a"])(regeneratorRuntime.mark((function n(i,a){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return console.log({answer:i,answerIndex:a}),n.prev=1,n.next=4,s.createAnswer([s.experiment.experimentId,s.condition.conditionId,s.treatment_id,t.assessmentId,e.questionId,i.body,i.correct,a]);case 4:return r=n.sent,n.abrupt("return",Promise.resolve(r));case 8:return n.prev=8,n.t0=n["catch"](1),n.abrupt("return",Promise.reject(n.t0));case 11:case"end":return n.stop()}}),n,null,[[1,8]])})));return function(e,t){return n.apply(this,arguments)}}())}))));case 4:case"end":return i.stop()}}),i)})))()},saveAll:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.handleSaveAssessment();case 2:n=t.sent,console.log({assessment:n}),n&&console.table({assessment:n});case 5:case"end":return t.stop()}}),t)})))()},saveExit:function(){this.$router.push({name:"Home",params:{experiment:this.experiment.experiment_id}})}}),created:function(){this.fetchAssessment([this.experiment.experimentId,this.condition.conditionId,this.treatment_id,this.assessment_id])},components:{TiptapVuetify:c["o"]}},u=l,d=(n("b0e0"),n("2877")),p=n("6544"),h=n.n(p),m=n("8336"),v=n("62ad"),f=n("cd55"),x=n("49e2"),b=n("c865"),g=n("0393"),w=n("132d"),_=n("0fd9"),C=n("8654"),A=Object(d["a"])(u,s,i,!1,null,null,null);t["default"]=A.exports;h()(A,{VBtn:m["a"],VCol:v["a"],VExpansionPanel:f["a"],VExpansionPanelContent:x["a"],VExpansionPanelHeader:b["a"],VExpansionPanels:g["a"],VIcon:w["a"],VRow:_["a"],VTextField:C["a"]})},"210b":function(e,t,n){},"49e2":function(e,t,n){"use strict";var s=n("0789"),i=n("9d65"),a=n("a9ad"),r=n("3206"),o=n("80d2"),c=n("58df"),l=Object(c["a"])(i["a"],a["a"],Object(r["a"])("expansionPanel","v-expansion-panel-content","v-expansion-panel"));t["a"]=l.extend().extend({name:"v-expansion-panel-content",computed:{isActive:function(){return this.expansionPanel.isActive}},created:function(){this.expansionPanel.registerContent(this)},beforeDestroy:function(){this.expansionPanel.unregisterContent()},render:function(e){var t=this;return e(s["a"],this.showLazyContent((function(){return[e("div",t.setBackgroundColor(t.color,{staticClass:"v-expansion-panel-content",directives:[{name:"show",value:t.isActive}]}),[e("div",{class:"v-expansion-panel-content__wrap"},Object(o["r"])(t))])]})))}})},b0e0:function(e,t,n){"use strict";n("e75d")},c865:function(e,t,n){"use strict";var s=n("5530"),i=n("0789"),a=n("9d26"),r=n("a9ad"),o=n("3206"),c=n("5607"),l=n("80d2"),u=n("58df"),d=Object(u["a"])(r["a"],Object(o["a"])("expansionPanel","v-expansion-panel-header","v-expansion-panel"));t["a"]=d.extend().extend({name:"v-expansion-panel-header",directives:{ripple:c["a"]},props:{disableIconRotate:Boolean,expandIcon:{type:String,default:"$expand"},hideActions:Boolean,ripple:{type:[Boolean,Object],default:!1}},data:function(){return{hasMousedown:!1}},computed:{classes:function(){return{"v-expansion-panel-header--active":this.isActive,"v-expansion-panel-header--mousedown":this.hasMousedown}},isActive:function(){return this.expansionPanel.isActive},isDisabled:function(){return this.expansionPanel.isDisabled},isReadonly:function(){return this.expansionPanel.isReadonly}},created:function(){this.expansionPanel.registerHeader(this)},beforeDestroy:function(){this.expansionPanel.unregisterHeader()},methods:{onClick:function(e){this.$emit("click",e)},genIcon:function(){var e=Object(l["r"])(this,"actions")||[this.$createElement(a["a"],this.expandIcon)];return this.$createElement(i["c"],[this.$createElement("div",{staticClass:"v-expansion-panel-header__icon",class:{"v-expansion-panel-header__icon--disable-rotate":this.disableIconRotate},directives:[{name:"show",value:!this.isDisabled}]},e)])}},render:function(e){var t=this;return e("button",this.setBackgroundColor(this.color,{staticClass:"v-expansion-panel-header",class:this.classes,attrs:{tabindex:this.isDisabled?-1:null,type:"button","aria-expanded":this.isActive},directives:[{name:"ripple",value:this.ripple}],on:Object(s["a"])(Object(s["a"])({},this.$listeners),{},{click:this.onClick,mousedown:function(){return t.hasMousedown=!0},mouseup:function(){return t.hasMousedown=!1}})}),[Object(l["r"])(this,"default",{open:this.isActive},!0),this.hideActions||this.genIcon()])}})},cd55:function(e,t,n){"use strict";var s=n("5530"),i=n("4e82"),a=n("3206"),r=n("80d2"),o=n("58df");t["a"]=Object(o["a"])(Object(i["a"])("expansionPanels","v-expansion-panel","v-expansion-panels"),Object(a["b"])("expansionPanel",!0)).extend({name:"v-expansion-panel",props:{disabled:Boolean,readonly:Boolean},data:function(){return{content:null,header:null,nextIsActive:!1}},computed:{classes:function(){return Object(s["a"])({"v-expansion-panel--active":this.isActive,"v-expansion-panel--next-active":this.nextIsActive,"v-expansion-panel--disabled":this.isDisabled},this.groupClasses)},isDisabled:function(){return this.expansionPanels.disabled||this.disabled},isReadonly:function(){return this.expansionPanels.readonly||this.readonly}},methods:{registerContent:function(e){this.content=e},unregisterContent:function(){this.content=null},registerHeader:function(e){this.header=e,e.$on("click",this.onClick)},unregisterHeader:function(){this.header=null},onClick:function(e){e.detail&&this.header.$el.blur(),this.$emit("click",e),this.isReadonly||this.isDisabled||this.toggle()},toggle:function(){var e=this;this.content&&(this.content.isBooted=!0),this.$nextTick((function(){return e.$emit("change")}))}},render:function(e){return e("div",{staticClass:"v-expansion-panel",class:this.classes,attrs:{"aria-expanded":String(this.isActive)}},Object(r["r"])(this))}})},e75d:function(e,t,n){}}]);
//# sourceMappingURL=chunk-7959faac.f73a0618.js.map