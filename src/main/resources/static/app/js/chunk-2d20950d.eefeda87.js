(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d20950d"],{a910:function(t,n,i){"use strict";i.r(n);var e=function(){var t=this,n=t.$createElement,i=t._self._c||n;return i("div",[i("h1",{staticClass:"mb-5"},[t._v(" Select which students you would like for each condition. ")]),i("p",[t._v("Conditions")]),i("v-expansion-panels",{staticClass:"v-expansion-panels--icon",attrs:{flat:""}},t._l(this.conditions,(function(n,e){return i("v-expansion-panel",{key:n.conditionId},[i("v-expansion-panel-header",[t._v(" "+t._s(n.name)+" ("+t._s(t.arrayDataProxy[e].length)+") ")]),i("v-expansion-panel-content",[i("ListParticipants",{attrs:{listOfParticipants:t.arrayDataProxy[e],moveToOptions:t.getConditionNames,moveToHandler:t.moveToHandler,selectedOption:""+e}})],1)],1)})),1),i("ListParticipants",{attrs:{listOfParticipants:t.arrayDataProxy[this.getConditionNames.length-1],moveToOptions:t.getConditionNames,moveToHandler:t.moveToHandler,selectedOption:""+(this.getConditionNames.length-1)}}),i("v-btn",{staticClass:"mt-10",attrs:{elevation:"0",color:"primary"},on:{click:function(n){return t.submitDistribution("ParticipationSummary")}}},[t._v("Continue")]),i("br"),t._v(" "+t._s(this.participants)+" ")],1)},a=[],r=i("2909"),o=i("5530"),s=(i("4de4"),i("99af"),i("d81d"),i("b0c0"),i("caad"),i("2532"),i("f944")),p=i("4360"),c=i("2f62"),u=i("dde5"),d={name:"ParticipationManualDistribution",props:["experiment"],components:{ListParticipants:s["a"]},data:function(){return{arrayDataProxy:[]}},watch:{participants:{deep:!0,immediate:!0,handler:function(){for(var t=[],n=0;n<this.conditions.length;n++)t.push([]);var i=this.participants.filter((function(t){var n=t.consent;return!0===n}));console.log("ðŸš€ ~ file: ParticipationManualDistribution.vue ~ line 79 ~ participatingStudents",i),t.push(i),this.arrayData=t}}},computed:Object(o["a"])(Object(o["a"])({},Object(c["c"])({participants:"participants/participants",exposures:"exposures/exposures"})),{},{conditions:function(){return this.experiment.conditions},getConditionNames:function(){return[].concat(Object(r["a"])(this.experiment.conditions.map((function(t){return t.name}))),["Unassigned"])},arrayData:{get:function(){for(var t=[],n=0;n<this.conditions.length;n++)t.push([]);return t.push(this.participants),t},set:function(t){this.arrayDataProxy=t}}}),methods:Object(o["a"])(Object(o["a"])({},Object(c["b"])({fetchExposures:"exposures/fetchExposures"})),{},{getExposure:function(){this.fetchExposures(this.experiment.experimentId)},submitDistribution:function(t){var n=this,i=[],e={};this.getExposure();var a=this.exposures.map((function(t){return t.exposureId})).sort((function(t,n){return t-n}))[0],r=this.exposures.filter((function(t){return t.exposureId===a}))[0];r.groupConditionList.map((function(t,n){var i=t.groupId;return e[n]=i})),this.arrayDataProxy.map((function(t,n){return t.map((function(t){if(void 0!==e[n]){var a={participantId:t.participantId,consent:t.consent,dropped:t.dropped,groupId:e[n]};i.push(a)}}))})),u["g"].updateParticipants(this.experiment.experimentId,i).then((function(i){200===(null===i||void 0===i?void 0:i.status)?n.$router.push({name:t,params:{experiment:n.experiment.experimentId}}):alert(i.error)})).catch((function(t){console.log("submitParticipants | catch",{response:t})}))},moveToHandler:function(t,n){var i=n.map((function(t){return t.participantId})),e=this.arrayDataProxy.map((function(t){return t.filter((function(t){return!i.includes(t.participantId)}))})),a=this.getConditionNames.indexOf(t);e[a]=[].concat(Object(r["a"])(e[a]),Object(r["a"])(n)),this.arrayData=e},saveExit:function(){this.submitDistribution("Home")}}),beforeRouteEnter:function(t,n,i){return p["a"].dispatch("participants/fetchParticipants",t.params.experiment_id).then(i,i)},beforeRouteUpdate:function(t,n,i){return p["a"].dispatch("participants/fetchParticipants",t.params.experiment_id).then(i,i)}},l=d,h=i("2877"),m=i("6544"),f=i.n(m),x=i("8336"),v=i("cd55"),b=i("49e2"),P=i("c865"),g=i("0393"),y=Object(h["a"])(l,e,a,!1,null,null,null);n["default"]=y.exports;f()(y,{VBtn:x["a"],VExpansionPanel:v["a"],VExpansionPanelContent:b["a"],VExpansionPanelHeader:P["a"],VExpansionPanels:g["a"]})}}]);
//# sourceMappingURL=chunk-2d20950d.eefeda87.js.map