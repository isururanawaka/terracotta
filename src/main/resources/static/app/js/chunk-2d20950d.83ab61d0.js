(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d20950d"],{a910:function(t,n,e){"use strict";e.r(n);var i=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[e("h1",{staticClass:"mb-5"},[t._v(" Select which students you would like for each condition. ")]),e("p",[t._v("Conditions")]),e("v-expansion-panels",{staticClass:"v-expansion-panels--icon",attrs:{flat:""}},t._l(this.conditions,(function(n,i){return e("v-expansion-panel",{key:n.conditionId},[e("v-expansion-panel-header",[t._v(" "+t._s(n.name)+" ("+t._s(t.arrayDataProxy[i].length)+") ")]),e("v-expansion-panel-content",[e("ListParticipants",{attrs:{listOfParticipants:t.arrayDataProxy[i],moveToOptions:t.getConditionNames,moveToHandler:t.moveToHandler,selectedOption:""+i}})],1)],1)})),1),e("ListParticipants",{attrs:{listOfParticipants:t.arrayDataProxy[this.getConditionNames.length-1],moveToOptions:t.getConditionNames,moveToHandler:t.moveToHandler,selectedOption:""+(this.getConditionNames.length-1)}}),e("v-btn",{staticClass:"mt-10",attrs:{elevation:"0",color:"primary"},on:{click:function(n){return t.submitDistribution("ParticipationSummary")}}},[t._v("Continue")])],1)},a=[],r=e("2909"),o=e("5530"),s=(e("99af"),e("d81d"),e("b0c0"),e("4de4"),e("caad"),e("2532"),e("f944")),p=e("4360"),c=e("2f62"),u=e("dde5"),d={name:"ParticipationManualDistribution",props:["experiment"],components:{ListParticipants:s["a"]},data:function(){return{arrayDataProxy:[]}},watch:{participants:{deep:!0,immediate:!0,handler:function(t){for(var n=[],e=0;e<this.conditions.length;e++)n.push([]);n.push(t),this.arrayData=n}}},computed:Object(o["a"])(Object(o["a"])({},Object(c["c"])({participants:"participants/participants",exposures:"exposures/exposures"})),{},{conditions:function(){return this.experiment.conditions},getConditionNames:function(){return[].concat(Object(r["a"])(this.experiment.conditions.map((function(t){return t.name}))),["Unassigned"])},arrayData:{get:function(){for(var t=[],n=0;n<this.conditions.length;n++)t.push([]);return t.push(this.participants),t},set:function(t){this.arrayDataProxy=t}}}),methods:Object(o["a"])(Object(o["a"])({},Object(c["b"])({fetchExposures:"exposures/fetchExposures"})),{},{getExposure:function(){this.fetchExposures(this.experiment.experimentId)},submitDistribution:function(t){var n=this,e=[],i={};this.getExposure();var a=this.exposures.map((function(t){return t.exposureId})).sort((function(t,n){return t-n}))[0],r=this.exposures.filter((function(t){return t.exposureId===a}))[0];r.groupConditionList.map((function(t,n){var e=t.groupId;return i[n]=e})),this.arrayDataProxy.map((function(t,n){return t.map((function(t){if(void 0!==i[n]){var a={participantId:t.participantId,consent:t.consent,dropped:t.dropped,groupId:i[n]};e.push(a)}}))})),u["g"].updateParticipants(this.experiment.experimentId,e).then((function(e){200===(null===e||void 0===e?void 0:e.status)?n.$router.push({name:t,params:{experiment:n.experiment.experimentId}}):alert(e.error)})).catch((function(t){console.log("submitParticipants | catch",{response:t})}))},moveToHandler:function(t,n){var e=n.map((function(t){return t.participantId})),i=this.arrayDataProxy.map((function(t){return t.filter((function(t){return!e.includes(t.participantId)}))})),a=this.getConditionNames.indexOf(t);i[a]=[].concat(Object(r["a"])(i[a]),Object(r["a"])(n)),this.arrayData=i},saveExit:function(){this.submitDistribution("Home")}}),beforeRouteEnter:function(t,n,e){return p["a"].dispatch("participants/fetchParticipants",t.params.experiment_id).then(e,e)},beforeRouteUpdate:function(t,n,e){return p["a"].dispatch("participants/fetchParticipants",t.params.experiment_id).then(e,e)}},h=d,m=e("2877"),l=e("6544"),f=e.n(l),x=e("8336"),v=e("cd55"),b=e("49e2"),P=e("c865"),y=e("0393"),g=Object(m["a"])(h,i,a,!1,null,null,null);n["default"]=g.exports;f()(g,{VBtn:x["a"],VExpansionPanel:v["a"],VExpansionPanelContent:b["a"],VExpansionPanelHeader:P["a"],VExpansionPanels:y["a"]})}}]);
//# sourceMappingURL=chunk-2d20950d.83ab61d0.js.map