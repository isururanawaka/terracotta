{"version":3,"sources":["webpack:///../../../src/components/VExpansionPanel/VExpansionPanels.ts","webpack:///./src/views/assignment/TerracottaBuilder.vue?34f3","webpack:///src/views/assignment/TerracottaBuilder.vue","webpack:///./src/views/assignment/TerracottaBuilder.vue?57b5","webpack:///./src/views/assignment/TerracottaBuilder.vue?c60d","webpack:///../../../src/components/VExpansionPanel/VExpansionPanelContent.ts","webpack:///./src/views/assignment/TerracottaBuilder.vue?d73e","webpack:///../../../src/components/VExpansionPanel/VExpansionPanelHeader.ts","webpack:///../../../src/components/VExpansionPanel/VExpansionPanel.ts"],"names":["name","provide","expansionPanels","this","props","accordion","disabled","flat","hover","focusable","inset","popout","readonly","tile","Boolean","computed","classes","created","$attrs","hasOwnProperty","Array","value","length","methods","updateItem","getValue","item","nextValue","index","toggleMethod","render","_vm","_h","$createElement","_c","_self","experiment","condition","staticClass","_v","_s","on","$event","preventDefault","saveAll","attrs","rules","model","assessment","callback","$$v","$set","expression","_m","_l","question","qIndex","key","extensions","option","oIndex","class","correct","handleToggleCorrect","handleDeleteOption","handleAddOption","handleAddMCQuestion","title","trim","_e","staticRenderFns","conditions","find","assignment_id","$route","params","treatment_id","assessment_id","questions","get","$store","state","set","commit","data","q","options","o","splice","saveExit","$router","push","fetchAssessment","experimentId","conditionId","components","TiptapVuetify","component","VBtn","VCol","VExpansionPanel","VExpansionPanelContent","VExpansionPanelHeader","VExpansionPanels","VIcon","VRow","VTextField","baseMixins","isActive","expansionPanel","beforeDestroy","h","showLazyContent","directives","ripple","disableIconRotate","expandIcon","type","default","hideActions","hasMousedown","isDisabled","isReadonly","onClick","genIcon","icon","setBackgroundColor","tabindex","click","mousedown","mouseup","open","content","header","nextIsActive","groupClasses","registerContent","unregisterContent","registerHeader","vm","unregisterHeader","e","toggle","isBooted","String"],"mappings":"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","file":"js/chunk-7959faac.f73a0618.js","sourcesContent":["// Styles\nimport './VExpansionPanel.sass'\n\n// Components\nimport { BaseItemGroup, GroupableInstance } from '../VItemGroup/VItemGroup'\nimport VExpansionPanel from './VExpansionPanel'\n\n// Utilities\nimport { breaking } from '../../util/console'\n\n// Types\ninterface VExpansionPanelInstance extends InstanceType<typeof VExpansionPanel> {}\n\n/* @vue/component */\nexport default BaseItemGroup.extend({\n  name: 'v-expansion-panels',\n\n  provide (): object {\n    return {\n      expansionPanels: this,\n    }\n  },\n\n  props: {\n    accordion: Boolean,\n    disabled: Boolean,\n    flat: Boolean,\n    hover: Boolean,\n    focusable: Boolean,\n    inset: Boolean,\n    popout: Boolean,\n    readonly: Boolean,\n    tile: Boolean,\n  },\n\n  computed: {\n    classes (): object {\n      return {\n        ...BaseItemGroup.options.computed.classes.call(this),\n        'v-expansion-panels': true,\n        'v-expansion-panels--accordion': this.accordion,\n        'v-expansion-panels--flat': this.flat,\n        'v-expansion-panels--hover': this.hover,\n        'v-expansion-panels--focusable': this.focusable,\n        'v-expansion-panels--inset': this.inset,\n        'v-expansion-panels--popout': this.popout,\n        'v-expansion-panels--tile': this.tile,\n      }\n    },\n  },\n\n  created () {\n    /* istanbul ignore next */\n    if (this.$attrs.hasOwnProperty('expand')) {\n      breaking('expand', 'multiple', this)\n    }\n\n    /* istanbul ignore next */\n    if (\n      Array.isArray(this.value) &&\n      this.value.length > 0 &&\n      typeof this.value[0] === 'boolean'\n    ) {\n      breaking(':value=\"[true, false, true]\"', ':value=\"[0, 2]\"', this)\n    }\n  },\n\n  methods: {\n    updateItem (item: GroupableInstance & VExpansionPanelInstance, index: number) {\n      const value = this.getValue(item, index)\n      const nextValue = this.getValue(item, index + 1)\n\n      item.isActive = this.toggleMethod(value)\n      item.nextIsActive = this.toggleMethod(nextValue)\n    },\n  },\n})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.experiment && _vm.condition)?_c('div',{staticClass:\"terracotta-builder\"},[_c('h1',[_vm._v(\" Add your treatment for Assignment 1’s condition: \"),_c('strong',[_vm._v(_vm._s(_vm.condition.name))])]),_c('form',{staticClass:\"my-5\",on:{\"submit\":function($event){$event.preventDefault();return _vm.saveAll('ExperimentDesignDescription')}}},[_c('v-text-field',{attrs:{\"rules\":_vm.rules,\"label\":\"Treatment name\",\"placeholder\":\"e.g. Lorem ipsum\",\"autofocus\":\"\",\"outlined\":\"\",\"required\":\"\"},model:{value:(_vm.assessment.title),callback:function ($$v) {_vm.$set(_vm.assessment, \"title\", $$v)},expression:\"assessment.title\"}}),_c('v-text-field',{attrs:{\"label\":\"Instructions or description (optional)\",\"placeholder\":\"e.g. Lorem ipsum\",\"outlined\":\"\"},model:{value:(_vm.assessment.html),callback:function ($$v) {_vm.$set(_vm.assessment, \"html\", $$v)},expression:\"assessment.html\"}}),_vm._m(0),_c('v-expansion-panels',{staticClass:\"v-expansion-panels--outlined mb-6\",attrs:{\"flat\":\"\",\"accordion\":\"\"}},_vm._l((_vm.questions),function(question,qIndex){return _c('v-expansion-panel',{key:qIndex,staticClass:\"text-left\"},[_c('v-expansion-panel-header',{staticClass:\"text-left\"},[_c('h2',{staticClass:\"pa-0\"},[_vm._v(_vm._s(qIndex + 1))])]),_c('v-expansion-panel-content',[_c('tiptap-vuetify',{staticClass:\"mb-6 outlined\",attrs:{\"placeholder\":\"Question\",\"extensions\":_vm.extensions,\"card-props\":{ flat: true },\"rules\":_vm.rules,\"required\":\"\"},model:{value:(question.body),callback:function ($$v) {_vm.$set(question, \"body\", $$v)},expression:\"question.body\"}}),_c('v-text-field',{attrs:{\"label\":\"Points\",\"type\":\"number\",\"outlined\":\"\",\"required\":\"\"},model:{value:(question.points),callback:function ($$v) {_vm.$set(question, \"points\", $$v)},expression:\"question.points\"}}),_c('h4',[_c('strong',[_vm._v(\"Options\")])]),_c('p',{staticClass:\"ma-0 mb-3\"},[_vm._v(\"Select correct option(s) below\")]),_c('ul',{staticClass:\"options-list pa-0 mb-6\"},_vm._l((question.options),function(option,oIndex){return _c('li',{key:oIndex,staticClass:\"mb-3\"},[_c('v-row',{attrs:{\"align\":\"center\"}},[_c('v-col',{staticClass:\"py-0\",attrs:{\"cols\":\"1\"}},[_c('v-btn',{staticClass:\"correct\",class:{'green--text':option.correct},attrs:{\"icon\":\"\",\"tile\":\"\"},on:{\"click\":function($event){return _vm.handleToggleCorrect(qIndex, oIndex)}}},[(!option.correct)?[_c('v-icon',[_vm._v(\"mdi-checkbox-marked-circle-outline\")])]:[_c('v-icon',[_vm._v(\"mdi-checkbox-marked-circle\")])]],2)],1),_c('v-col',{attrs:{\"cols\":\"9\"}},[_c('v-text-field',{attrs:{\"label\":(\"Option \" + (oIndex + 1)),\"rules\":_vm.rules,\"hide-details\":\"\",\"outlined\":\"\",\"required\":\"\"},model:{value:(option.option),callback:function ($$v) {_vm.$set(option, \"option\", $$v)},expression:\"option.option\"}})],1),_c('v-col',{staticClass:\"py-0\",attrs:{\"cols\":\"2\"}},[_c('v-btn',{staticClass:\"delete_option\",attrs:{\"icon\":\"\",\"tile\":\"\"},on:{\"click\":function($event){return _vm.handleDeleteOption(qIndex, oIndex)}}},[_c('v-icon',[_vm._v(\"mdi-delete\")])],1)],1)],1)],1)}),0),_c('v-btn',{staticClass:\"mr-4 mb-3 px-0\",attrs:{\"elevation\":\"0\",\"color\":\"primary\",\"plain\":\"\"},on:{\"click\":function($event){return _vm.handleAddOption(question)}}},[_vm._v(\" Add another Option \")])],1)],1)}),1),_c('v-btn',{staticClass:\"mr-4 mb-3 px-0\",attrs:{\"elevation\":\"0\",\"color\":\"primary\",\"plain\":\"\"},on:{\"click\":_vm.handleAddMCQuestion}},[_vm._v(\" Add another Question \")]),_c('br'),_c('v-btn',{staticClass:\"mr-4\",attrs:{\"disabled\":!_vm.experiment.title || !_vm.experiment.title.trim(),\"elevation\":\"0\",\"color\":\"primary\",\"type\":\"submit\"}},[_vm._v(\" Save Treatment \")])],1)]):_vm._e()}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('h4',{staticClass:\"mb-3\"},[_c('strong',[_vm._v(\"Multiple Choice Questions\")])])}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"terracotta-builder\" v-if=\"experiment && condition\">\r\n    <h1>\r\n      Add your treatment for\r\n      Assignment 1’s condition: <strong>{{condition.name}}</strong>\r\n    </h1>\r\n    <form\r\n      @submit.prevent=\"saveAll('ExperimentDesignDescription')\"\r\n      class=\"my-5\"\r\n    >\r\n      <v-text-field\r\n        v-model=\"assessment.title\"\r\n        :rules=\"rules\"\r\n        label=\"Treatment name\"\r\n        placeholder=\"e.g. Lorem ipsum\"\r\n        autofocus\r\n        outlined\r\n        required\r\n      ></v-text-field>\r\n      <v-text-field\r\n        v-model=\"assessment.html\"\r\n        label=\"Instructions or description (optional)\"\r\n        placeholder=\"e.g. Lorem ipsum\"\r\n        outlined\r\n      ></v-text-field>\r\n\r\n      <h4 class=\"mb-3\"><strong>Multiple Choice Questions</strong></h4>\r\n\r\n      <v-expansion-panels class=\"v-expansion-panels--outlined mb-6\" flat accordion>\r\n        <v-expansion-panel\r\n          v-for=\"(question, qIndex) in questions\"\r\n          :key=\"qIndex\"\r\n          class=\"text-left\"\r\n        >\r\n          <v-expansion-panel-header class=\"text-left\">\r\n            <h2 class=\"pa-0\">{{ qIndex + 1 }}</h2>\r\n          </v-expansion-panel-header>\r\n          <v-expansion-panel-content>\r\n            <tiptap-vuetify\r\n              v-model=\"question.body\"\r\n              placeholder=\"Question\"\r\n              class=\"mb-6 outlined\"\r\n              :extensions=\"extensions\"\r\n              :card-props=\"{ flat: true }\"\r\n              :rules=\"rules\"\r\n              required\r\n            />\r\n            <v-text-field\r\n              v-model=\"question.points\"\r\n              label=\"Points\"\r\n              type=\"number\"\r\n              outlined\r\n              required\r\n            ></v-text-field>\r\n\r\n            <h4><strong>Options</strong></h4>\r\n            <p class=\"ma-0 mb-3\">Select correct option(s) below</p>\r\n\r\n            <ul class=\"options-list pa-0 mb-6\">\r\n              <li\r\n                v-for=\"(option, oIndex) in question.options\"\r\n                :key=\"oIndex\"\r\n                class=\"mb-3\"\r\n              >\r\n                <v-row align=\"center\">\r\n                  <v-col class=\"py-0\" cols=\"1\">\r\n                    <v-btn\r\n                      icon\r\n                      tile\r\n                      class=\"correct\"\r\n                      :class=\"{'green--text':option.correct}\"\r\n                      @click=\"handleToggleCorrect(qIndex, oIndex)\"\r\n                    >\r\n                      <template v-if=\"!option.correct\">\r\n                        <v-icon>mdi-checkbox-marked-circle-outline</v-icon>\r\n                      </template>\r\n                      <template v-else>\r\n                        <v-icon>mdi-checkbox-marked-circle</v-icon>\r\n                      </template>\r\n                    </v-btn>\r\n                  </v-col>\r\n                  <v-col cols=\"9\">\r\n                    <v-text-field\r\n                      v-model=\"option.option\"\r\n                      :label=\"`Option ${oIndex + 1}`\"\r\n                      :rules=\"rules\"\r\n                      hide-details\r\n                      outlined\r\n                      required\r\n                    ></v-text-field>\r\n                  </v-col>\r\n                  <v-col class=\"py-0\" cols=\"2\">\r\n                    <v-btn\r\n                      icon\r\n                      tile\r\n                      class=\"delete_option\"\r\n                      @click=\"handleDeleteOption(qIndex, oIndex)\"\r\n                    >\r\n                      <v-icon>mdi-delete</v-icon>\r\n                    </v-btn>\r\n                  </v-col>\r\n                </v-row>\r\n              </li>\r\n            </ul>\r\n\r\n            <v-btn\r\n              elevation=\"0\"\r\n              color=\"primary\"\r\n              class=\"mr-4 mb-3 px-0\"\r\n              @click=\"handleAddOption(question)\"\r\n              plain\r\n            >\r\n              Add another Option\r\n            </v-btn>\r\n\r\n          </v-expansion-panel-content>\r\n        </v-expansion-panel>\r\n      </v-expansion-panels>\r\n\r\n      <v-btn\r\n        elevation=\"0\"\r\n        color=\"primary\"\r\n        class=\"mr-4 mb-3 px-0\"\r\n        @click=\"handleAddMCQuestion\"\r\n        plain\r\n      >\r\n        Add another Question\r\n      </v-btn>\r\n      <br>\r\n      <v-btn\r\n        :disabled=\"!experiment.title || !experiment.title.trim()\"\r\n        elevation=\"0\"\r\n        color=\"primary\"\r\n        class=\"mr-4\"\r\n        type=\"submit\"\r\n      >\r\n        Save Treatment\r\n      </v-btn>\r\n    </form>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {mapActions, mapGetters} from 'vuex'\r\nimport { TiptapVuetify, Heading, Bold, Italic, Strike, Underline, Code, Paragraph, BulletList, OrderedList, ListItem, Link, Blockquote, HardBreak, HorizontalRule, History } from 'tiptap-vuetify'\r\n\r\nexport default {\r\n  name: 'TerracottaBuilder',\r\n  props: ['experiment'],\r\n  computed: {\r\n    condition() {\r\n      return this.experiment.conditions.find(c => parseInt(c.conditionId) === parseInt(this.$route.params.condition_id))\r\n    },\r\n    assignment_id() {\r\n      return this.$route.params.assignment_id\r\n    },\r\n    treatment_id() {\r\n      return this.$route.params.treatment_id\r\n    },\r\n    assessment_id() {\r\n      return this.$route.params.assessment_id\r\n    },\r\n    questions: {\r\n      get () {\r\n        return this.$store.state.assessment.assessment.questions\r\n      },\r\n      set (question) {\r\n        this.$store.commit('assessment/updateQuestions', question)\r\n      }\r\n    },\r\n    ...mapGetters({\r\n      assessment: 'assessment/assessment'\r\n    })\r\n  },\r\n  data() {\r\n    return {\r\n      rules: [\r\n        v => v && !!v.trim() || 'required',\r\n        v => (v || '').length <= 255 || 'A maximum of 255 characters is allowed'\r\n      ],\r\n      extensions: [\r\n        History,\r\n        Blockquote,\r\n        Link,\r\n        Underline,\r\n        Strike,\r\n        Italic,\r\n        ListItem,\r\n        BulletList,\r\n        OrderedList,\r\n        [Heading, {\r\n          options: {\r\n            levels: [1, 2, 3]\r\n          }\r\n        }],\r\n        Bold,\r\n        Code,\r\n        HorizontalRule,\r\n        Paragraph,\r\n        HardBreak\r\n      ]\r\n    }\r\n  },\r\n  methods: {\r\n    ...mapActions({\r\n      fetchAssessment: 'assessment/fetchAssessment',\r\n      updateAssessment: 'assessment/updateAssessment',\r\n      createQuestion: 'assessment/createQuestion',\r\n      createAnswer: 'assessment/createAnswer'\r\n    }),\r\n    async handleAddMCQuestion() {\r\n      try {\r\n        await this.createQuestion([\r\n          this.experiment.experimentId,\r\n          this.condition.conditionId,\r\n          this.treatment_id,\r\n          this.assessment_id,\r\n          0,\r\n          'MC',\r\n          0,\r\n          ''\r\n        ])\r\n      } catch (error) {\r\n        console.error(error)\r\n      }\r\n    },\r\n    async handleAddOption (question) {\r\n      console.log(question)\r\n      try {\r\n        await this.createAnswer([\r\n          this.experiment.experimentId,\r\n          this.condition.conditionId,\r\n          this.treatment_id,\r\n          this.assessment_id,\r\n          question.questionId,\r\n          '',\r\n          false,\r\n          0\r\n        ])\r\n      } catch (error) {\r\n        console.error(error)\r\n      }\r\n    },\r\n    handleToggleCorrect(q, o) {\r\n      this.questions[q].options[o].correct = !this.questions[q].options[o].correct\r\n    },\r\n    handleDeleteOption(q, o) {\r\n      this.questions[q].options.splice(o,1)\r\n    },\r\n    async handleSaveAssessment() {\r\n      // PUT ASSESSMENT TITLE & HTML (description)\r\n      try {\r\n        return await this.updateAssessment([\r\n          this.experiment.experimentId,\r\n          this.condition.conditionId,\r\n          this.treatment_id,\r\n          this.assessment_id,\r\n          this.assessment.title,\r\n          this.assessment.html\r\n        ])\r\n      } catch (error) {\r\n        console.error(\"handleCreateAssessment | catch\", {error})\r\n      }\r\n    },\r\n    async handleSaveQuestions(assessment) {\r\n      if (!assessment) { return false }\r\n      // LOOP AND PUT QUESTIONS\r\n      return Promise.all(\r\n        this.assessment.questions.map(async (question, index) => {\r\n          // save question\r\n          try {\r\n            const q = await this.createQuestion([\r\n              this.experiment.experimentId,\r\n              this.condition.conditionId,\r\n              this.treatment_id,\r\n              assessment.assessmentId,\r\n              index,\r\n              \"MC\",\r\n              question.points,\r\n              question.body\r\n            ])\r\n            return Promise.resolve(q)\r\n          } catch (error) {\r\n            return Promise.reject(error)\r\n          }\r\n        })\r\n      )\r\n    },\r\n    async handleSaveAnswers(treatment, assessment, questions) {\r\n      console.log({questions})\r\n      if (!treatment || !assessment || !questions) { return false }\r\n      // LOOP AND PUT ANSWERS\r\n      return Promise.all(\r\n        this.assessment.questions.map((question) => {\r\n          question?.options?.map(async (answer, answerIndex) => {\r\n            console.log({answer, answerIndex})\r\n            try {\r\n              const a = await this.createAnswer([\r\n                this.experiment.experimentId,\r\n                this.condition.conditionId,\r\n                this.treatment_id,\r\n                assessment.assessmentId,\r\n                question.questionId,\r\n                answer.body,\r\n                answer.correct,\r\n                answerIndex\r\n              ])\r\n              return Promise.resolve(a)\r\n            } catch (error) {\r\n              return Promise.reject(error)\r\n            }\r\n          })\r\n        })\r\n      )\r\n    },\r\n    async saveAll () {\r\n      const assessment = await this.handleSaveAssessment()\r\n      console.log({assessment})\r\n      if (assessment) {\r\n        console.table({assessment})\r\n        // const questions = await this.handleSaveQuestions()\r\n        // console.table({questions})\r\n        // const answers = await this.handleSaveAnswers(questions)\r\n        // console.log({answers})\r\n      }\r\n    },\r\n    saveExit() {\r\n      this.$router.push({name:'Home', params:{experiment: this.experiment.experiment_id}})\r\n    }\r\n  },\r\n  created() {\r\n    this.fetchAssessment([this.experiment.experimentId, this.condition.conditionId, this.treatment_id, this.assessment_id])\r\n  },\r\n  components: {\r\n    TiptapVuetify\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n  .terracotta-builder {\r\n    .v-expansion-panel-header--active {\r\n      border-bottom: 2px solid map-get($grey, 'lighten-2');\r\n    }\r\n    .options-list {\r\n      list-style: none;\r\n    }\r\n    .tiptap-vuetify-editor {\r\n      box-shadow: none;\r\n      border-radius: 4px;\r\n      border: 1px solid map-get($grey, 'base');\r\n      overflow: hidden;\r\n\r\n      .ProseMirror {\r\n        margin: 20px 5px !important;\r\n\r\n        .is-editor-empty::before {\r\n          color: map-get($grey, 'darken-1');\r\n          font-style: normal;\r\n        }\r\n      }\r\n      &__toolbar {\r\n        border-top: 1px solid map-get($grey, 'base');\r\n        border-radius: 0 !important;\r\n      }\r\n      .v-card {\r\n        display: flex;\r\n        flex-direction: column-reverse;\r\n      }\r\n    }\r\n  }\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TerracottaBuilder.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TerracottaBuilder.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TerracottaBuilder.vue?vue&type=template&id=42b5b7f4&\"\nimport script from \"./TerracottaBuilder.vue?vue&type=script&lang=js&\"\nexport * from \"./TerracottaBuilder.vue?vue&type=script&lang=js&\"\nimport style0 from \"./TerracottaBuilder.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VExpansionPanel } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanelContent } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanelHeader } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanels } from 'vuetify/lib/components/VExpansionPanel';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VBtn,VCol,VExpansionPanel,VExpansionPanelContent,VExpansionPanelHeader,VExpansionPanels,VIcon,VRow,VTextField})\n","// Components\nimport VExpansionPanel from './VExpansionPanel'\nimport { VExpandTransition } from '../transitions'\n\n// Mixins\nimport Bootable from '../../mixins/bootable'\nimport Colorable from '../../mixins/colorable'\nimport { inject as RegistrableInject } from '../../mixins/registrable'\n\n// Utilities\nimport { getSlot } from '../../util/helpers'\nimport mixins, { ExtractVue } from '../../util/mixins'\n\n// Types\nimport Vue, { VNode, VueConstructor } from 'vue'\n\nconst baseMixins = mixins(\n  Bootable,\n  Colorable,\n  RegistrableInject<'expansionPanel', VueConstructor<Vue>>('expansionPanel', 'v-expansion-panel-content', 'v-expansion-panel')\n)\n\ninterface options extends ExtractVue<typeof baseMixins> {\n  expansionPanel: InstanceType<typeof VExpansionPanel>\n}\n\n/* @vue/component */\nexport default baseMixins.extend<options>().extend({\n  name: 'v-expansion-panel-content',\n\n  computed: {\n    isActive (): boolean {\n      return this.expansionPanel.isActive\n    },\n  },\n\n  created () {\n    this.expansionPanel.registerContent(this)\n  },\n\n  beforeDestroy () {\n    this.expansionPanel.unregisterContent()\n  },\n\n  render (h): VNode {\n    return h(VExpandTransition, this.showLazyContent(() => [\n      h('div', this.setBackgroundColor(this.color, {\n        staticClass: 'v-expansion-panel-content',\n        directives: [{\n          name: 'show',\n          value: this.isActive,\n        }],\n      }), [\n        h('div', { class: 'v-expansion-panel-content__wrap' }, getSlot(this)),\n      ]),\n    ]))\n  },\n})\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TerracottaBuilder.vue?vue&type=style&index=0&lang=scss&\"","// Components\nimport { VFadeTransition } from '../transitions'\nimport VExpansionPanel from './VExpansionPanel'\nimport VIcon from '../VIcon'\n\n// Mixins\nimport Colorable from '../../mixins/colorable'\nimport { inject as RegistrableInject } from '../../mixins/registrable'\n\n// Directives\nimport ripple from '../../directives/ripple'\n\n// Utilities\nimport { getSlot } from '../../util/helpers'\nimport mixins, { ExtractVue } from '../../util/mixins'\n\n// Types\nimport Vue, { VNode, VueConstructor } from 'vue'\n\nconst baseMixins = mixins(\n  Colorable,\n  RegistrableInject<'expansionPanel', VueConstructor<Vue>>('expansionPanel', 'v-expansion-panel-header', 'v-expansion-panel')\n)\n\ninterface options extends ExtractVue<typeof baseMixins> {\n  $el: HTMLElement\n  expansionPanel: InstanceType<typeof VExpansionPanel>\n}\n\nexport default baseMixins.extend<options>().extend({\n  name: 'v-expansion-panel-header',\n\n  directives: { ripple },\n\n  props: {\n    disableIconRotate: Boolean,\n    expandIcon: {\n      type: String,\n      default: '$expand',\n    },\n    hideActions: Boolean,\n    ripple: {\n      type: [Boolean, Object],\n      default: false,\n    },\n  },\n\n  data: () => ({\n    hasMousedown: false,\n  }),\n\n  computed: {\n    classes (): object {\n      return {\n        'v-expansion-panel-header--active': this.isActive,\n        'v-expansion-panel-header--mousedown': this.hasMousedown,\n      }\n    },\n    isActive (): boolean {\n      return this.expansionPanel.isActive\n    },\n    isDisabled (): boolean {\n      return this.expansionPanel.isDisabled\n    },\n    isReadonly (): boolean {\n      return this.expansionPanel.isReadonly\n    },\n  },\n\n  created () {\n    this.expansionPanel.registerHeader(this)\n  },\n\n  beforeDestroy () {\n    this.expansionPanel.unregisterHeader()\n  },\n\n  methods: {\n    onClick (e: MouseEvent) {\n      this.$emit('click', e)\n    },\n    genIcon () {\n      const icon = getSlot(this, 'actions') ||\n        [this.$createElement(VIcon, this.expandIcon)]\n\n      return this.$createElement(VFadeTransition, [\n        this.$createElement('div', {\n          staticClass: 'v-expansion-panel-header__icon',\n          class: {\n            'v-expansion-panel-header__icon--disable-rotate': this.disableIconRotate,\n          },\n          directives: [{\n            name: 'show',\n            value: !this.isDisabled,\n          }],\n        }, icon),\n      ])\n    },\n  },\n\n  render (h): VNode {\n    return h('button', this.setBackgroundColor(this.color, {\n      staticClass: 'v-expansion-panel-header',\n      class: this.classes,\n      attrs: {\n        tabindex: this.isDisabled ? -1 : null,\n        type: 'button',\n        'aria-expanded': this.isActive,\n      },\n      directives: [{\n        name: 'ripple',\n        value: this.ripple,\n      }],\n      on: {\n        ...this.$listeners,\n        click: this.onClick,\n        mousedown: () => (this.hasMousedown = true),\n        mouseup: () => (this.hasMousedown = false),\n      },\n    }), [\n      getSlot(this, 'default', { open: this.isActive }, true),\n      this.hideActions || this.genIcon(),\n    ])\n  },\n})\n","// Components\nimport VExpansionPanels from './VExpansionPanels'\nimport VExpansionPanelHeader from './VExpansionPanelHeader'\nimport VExpansionPanelContent from './VExpansionPanelContent'\n\n// Mixins\nimport { factory as GroupableFactory } from '../../mixins/groupable'\nimport { provide as RegistrableProvide } from '../../mixins/registrable'\n\n// Utilities\nimport { getSlot } from '../../util/helpers'\nimport mixins from '../../util/mixins'\n\n// Types\nimport { VNode } from 'vue'\n\ntype VExpansionPanelHeaderInstance = InstanceType<typeof VExpansionPanelHeader>\ntype VExpansionPanelContentInstance = InstanceType<typeof VExpansionPanelContent>\n\nexport default mixins(\n  GroupableFactory<'expansionPanels', typeof VExpansionPanels>('expansionPanels', 'v-expansion-panel', 'v-expansion-panels'),\n  RegistrableProvide('expansionPanel', true)\n  /* @vue/component */\n).extend({\n  name: 'v-expansion-panel',\n\n  props: {\n    disabled: Boolean,\n    readonly: Boolean,\n  },\n\n  data () {\n    return {\n      content: null as VExpansionPanelContentInstance | null,\n      header: null as VExpansionPanelHeaderInstance | null,\n      nextIsActive: false,\n    }\n  },\n\n  computed: {\n    classes (): object {\n      return {\n        'v-expansion-panel--active': this.isActive,\n        'v-expansion-panel--next-active': this.nextIsActive,\n        'v-expansion-panel--disabled': this.isDisabled,\n        ...this.groupClasses,\n      }\n    },\n    isDisabled (): boolean {\n      return this.expansionPanels.disabled || this.disabled\n    },\n    isReadonly (): boolean {\n      return this.expansionPanels.readonly || this.readonly\n    },\n  },\n\n  methods: {\n    registerContent (vm: VExpansionPanelContentInstance) {\n      this.content = vm\n    },\n    unregisterContent () {\n      this.content = null\n    },\n    registerHeader (vm: VExpansionPanelHeaderInstance) {\n      this.header = vm\n      vm.$on('click', this.onClick)\n    },\n    unregisterHeader () {\n      this.header = null\n    },\n    onClick (e: MouseEvent) {\n      if (e.detail) this.header!.$el.blur()\n\n      this.$emit('click', e)\n\n      this.isReadonly || this.isDisabled || this.toggle()\n    },\n    toggle () {\n      /* istanbul ignore else */\n      if (this.content) this.content.isBooted = true\n      this.$nextTick(() => this.$emit('change'))\n    },\n  },\n\n  render (h): VNode {\n    return h('div', {\n      staticClass: 'v-expansion-panel',\n      class: this.classes,\n      attrs: {\n        'aria-expanded': String(this.isActive),\n      },\n    }, getSlot(this))\n  },\n})\n"],"sourceRoot":""}